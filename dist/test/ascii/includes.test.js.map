{"version":3,"file":"includes.test.js","sourceRoot":"","sources":["../../../src/test/ascii/includes.test.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,4BAAyB;AAEzB,+EAA0E;AAC1E,6BAA4B;AAE5B,IAAI,QAAsB,CAAA;AAC1B,MAAM,GAAG,GAAW,SAAS,CAAA;AAC7B,MAAM,IAAI,GAAW,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,qDAAqD,CAAC,CAAA;AAChG,MAAM,SAAS,GAAW,mBAAmB,GAAG,MAAM,CAAA;AACtD,MAAM,UAAU,GAAW,qBAAqB,GAAG,MAAM,CAAA;AACzD,MAAM,UAAU,GAAW,qBAAqB,GAAG,MAAM,CAAA;AACzD,MAAM,cAAc,GAAW,yBAAyB,GAAG,MAAM,CAAA;AACjE,MAAM,cAAc,GAAW,yBAAyB,GAAG,MAAM,CAAA;AAEjE,MAAM,IAAI,GAAW,cAAc,GAAG,MAAM,CAAA;AAE5C,SAAS,CAAC,GAAS,EAAE;IACnB,QAAQ,GAAG,IAAI,4BAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;IACvC,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAA;AACxB,CAAC,CAAA,EAAE,KAAK,CAAC,CAAA;AAET,IAAI,CAAC,0CAA0C,EAAE,GAAS,EAAE;IAC1D,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAA;AAC1D,CAAC,CAAA,EAAE,IAAI,CAAC,CAAA;AAER,IAAI,CAAC,8CAA8C,EAAE,GAAS,EAAE;IAC9D,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,CAAA;AACvE,CAAC,CAAA,EAAE,IAAI,CAAC,CAAA;AAER,IAAI,CAAC,gDAAgD,EAAE,GAAS,EAAE;IAChE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC,CAAA;AACnF,CAAC,CAAA,EAAE,IAAI,CAAC,CAAA;AAER,IAAI,CAAC,uDAAuD,EAAE,GAAS,EAAE;IACvE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,cAAc,CAAC,CAAC,CAAA;AACvG,CAAC,CAAA,EAAE,IAAI,CAAC,CAAA;AAER,IAAI,CAAC,2DAA2D,EAAE,GAAS,EAAE;IAC3E,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,cAAc,EAAE,cAAc,CAAC,CAAC,CAAA;AACvH,CAAC,CAAA,EAAE,IAAI,CAAC,CAAA","sourcesContent":["import 'reflect-metadata'\n\nimport { IncludeGraph } from '../../dictionary/parser/fixml/include-graph'\nimport * as path from 'path'\n\nlet includes: IncludeGraph\nconst ver: string = '5-0-SP2'\nconst root: string = path.join(__dirname, `../../../data/fix_repo/fixmlschema_FIX.5.0SP2_EP228`)\nconst dataTypes: string = `fixml-datatypes-${ver}.xsd`\nconst fieldsBase: string = `fixml-fields-base-${ver}.xsd`\nconst fieldsImpl: string = `fixml-fields-impl-${ver}.xsd`\nconst componentsBase: string = `fixml-components-base-${ver}.xsd`\nconst componentsImpl: string = `fixml-components-impl-${ver}.xsd`\n\nconst main: string = `fixml-main-${ver}.xsd`\n\nbeforeAll(async () => {\n  includes = new IncludeGraph(root, main)\n  await includes.build()\n}, 45000)\n\ntest('test resolving node with no dependencies', async () => {\n  expect(includes.resolve(dataTypes)).toEqual([dataTypes])\n}, 1000)\n\ntest('test resolving fields base with 1 dependency', async () => {\n  expect(includes.resolve(fieldsBase)).toEqual([dataTypes, fieldsBase])\n}, 1000)\n\ntest('test resolving fields impl with 2 dependencies', async () => {\n  expect(includes.resolve(fieldsImpl)).toEqual([dataTypes, fieldsBase, fieldsImpl])\n}, 1000)\n\ntest('test resolving components base depends on fields impl', async () => {\n  expect(includes.resolve(componentsBase)).toEqual([dataTypes, fieldsBase, fieldsImpl, componentsBase])\n}, 1000)\n\ntest('test resolving components impl depends on components base', async () => {\n  expect(includes.resolve(componentsImpl)).toEqual([dataTypes, fieldsBase, fieldsImpl, componentsBase, componentsImpl])\n}, 1000)\n"]}